/*crear tabla para luego migrar datos del csv dentro de ella*/
CREATE TABLE sales (
  Op_ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Invoice_ID TEXT,
  Branch TEXT,
  City TEXT,
  Customer_type TEXT,
  Gender TEXT,
  Product_line TEXT,
  Unit_price TEXT,
  Quantity TEXT,
  Tax_5 TEXT,
  Total TEXT
)

/*editar columnas de la tabla para posterior migracion de datos desde csv*/
ALTER TABLE sales ADD COLUMN Date TEXT;
ALTER TABLE sales ADD COLUMN Time TEXT;
ALTER TABLE sales ADD COLUMN Payment TEXT;
ALTER TABLE sales ADD COLUMN cogs TEXT;
ALTER TABLE sales ADD COLUMN gross_margin_percentage TEXT;
ALTER TABLE sales ADD COLUMN gross_income TEXT;
ALTER TABLE sales ADD COLUMN Rating TEXT;

/*eliminar columna de Invoice_ID para generar pk autoincrementable*/
ALTER TABLE sales DROP COLUMN Invoice_ID;

/**/
DROP TABLE sales
/* reemplazar datos existentes por los de la tabla temporal para completar la migracion de datos .csv*/
REPLACE INTO sales
SELECT * FROM tmp_sales


